%!Mode:: "TeX:UTF-8"
%!TEX encoding = UTF-8 Unicode
%!TEX TS-program = xelatex xelatex
\documentclass{ctexart}
\newif\ifpreface
\prefacetrue
\input{../../../global/all}
\crefname{enumi}{}{}
\begin{document}
\large
\setlength{\baselineskip}{1.2em}
\ifpreface
	\input{../../../global/preface}
\else
	\maketitle
\fi
\newgeometry{left=2cm,right=2cm,top=2cm,bottom=2cm}
%from_here_to_type
\renewcommand{\phi}{\varphi}
\newcommand{\peq}{\preccurlyeq}
\begin{problem}
Prove the following statements.
\begin{enumerate}
	\item If $x \cap y=\varnothing$ and $x \cup y \preccurlyeq y$, then $\omega \times x \preccurlyeq y$.
	\item If $x \cap y=\varnothing$ and $\omega \times x \preccurlyeq y$, then $x \cup y \approx y$.
\end{enumerate}
\end{problem}

\begin{solution}
	\begin{enumerate}
		\item Assume $f:x\cup y\to y$ is injective, define $f_1=f,f_{n+1}=f_n\circ f$. Let $g:\omega\times x\to y,g(n,t)\mapsto f_{n+1}(t)$. We only need to prove $g$ is injective.
		      For $(n,u),(m,v)\in \omega\times x$, if $n=m$, then since $f$ is injective we get $f_n$ is injective, so $f_n(u)\neq f_n(v)$. Else, $m\neq n$, assume $n< m,m=n+k$. Obviously $f_{n+k}[x]=f_n[f_k[x]]\subset f_n[y]$. Since $f_n$ is injective, we get $f_n[x]\cap f_n[y]=\varnothing$. So $f_n[x]\ni g(n,u)\neq g(m,v)\in f_n[y]$. So $g$ is injective.
		\item Assume $f:\omega\times x\to y$ is injective. Let $x_n:=\{(n,t):t\in x\}$. Then $\omega\times x=\cup_{n\in \omega}x_n$. Consider $g:x\cup y\to y$, for $t\in x$ let $g(t):=f(0,t)$, for $t\in f[x_n]$, let $g(t)=f(n+1,t)$, for other $t$, let $g(t)=t$. Then we prove $g$ is bijection.

		      First we prove $g$ is injection. For $u,v\in x\cup y,u\neq v$, we will prove $g(u)\neq g(v)$.
		      \begin{itemize}
			      \item $u,v\in x$: Since $f$ is injective, we have $g(u)=f(0,u)\neq f(0,v)=g(v)$.
			      \item $u\in x,v\notin x$: From definition we obtain $f(u)\in f[x_0]$. If $v\in f[x_n]$ for some $n$, then $f(v)\in f[x_{n+1}]$. Since $f$ is injective, $f[x_0]\cap f[x_{n+1}]=\varnothing$. So $f(u)\neq f(v)$. Else, we know $g(v)=v\notin f[x_0]\ni f(u)$.
			      \item $u\in f[x_m],v\in f[x_n]$: If $m=n$ then $g(u)=f(m+1,u)\neq f(n+1,v)=g(v)$. Else $m\neq n$, then $g(u)\in f[x_{m+1}],g(v)\in f[x_{n+1}],f[x_{m+1}]\cap f[x_{n+1}]=\varnothing$. So $g(u)\neq g(v)$.
			      \item $u\in x_n,v\notin x,\forall m, v\notin f[x_m]$: Easily $g(u)\in f[x_{n+1}]$ and $g(v)=v\notin f[x_{n+1}]$.
			      \item $u,v\notin x,\forall n,u,v\notin f[x_n]$: Easily $g(u)=u\neq v=g(v)$.
		      \end{itemize}
		      Second we prove $g$ is surjective. i.e., $\forall u\in y,\exists t\in x\cup y,g(t)=u$.
		      \begin{itemize}
			      \item $u\in f[x_n]$ for some $n$: If $n=0$ then $y=f(0,t)$ for some $t\in x$. Then $g(t)=u$. Else $n\geq 1$, write $n=m+1$. Then $y=f(m+1,t)$ for some $t\in x$. So $g(t)=u$.
			      \item $u\notin f[x_n],\forall n$: Easily we get $g(u)=u$.
		      \end{itemize}
		      So all in all $g$ is bijective.
	\end{enumerate}
\end{solution}

\begin{problem}
\begin{enumerate}[ref=\theproblem.\arabic*]
	\item\label{it:2.1} A subset of a finite set is finite.
	\item\label{it:2.2} The union of a finite set of finite sets is finite.
	\item The power set of a finite set is finite.
	\item The image of a finite set (under a mapping) is finite.
\end{enumerate}
\end{problem}

\begin{solution}
	\begin{enumerate}
		\item Use MI to prove $\phi(n):=\forall A\approx n,\forall B\subset A,\exists m\in \omega,B\approx m$ for $n\in \omega$. When $n=0$, we know $A\approx 0\to A=\varnothing$. So $B=\varnothing$ and thus $B\approx 0$. Now we prove $\phi(n)\to \phi(n+1)$. For $A\approx n+1$, if $B=A$ then $B\approx n+1$. Else, $\exists x\in A\setminus B$. Assume $f:A\to n+1$ is bijection. Consider $g:A\to n+1
			      \begin{cases}
				      g(t)=f(t) & t\neq x\xand g(t)\neq n \\
				      g(t)=n+1  & t=x                     \\
				      g(t)=f(x) & f(t)=n
			      \end{cases}$
		      Easy to know $g$ is bijection, too. And since $x\notin B$ we get $B\subset g^{-1}[n]\approx n$, so by induction we get $\exists m\in \omega,B\approx m$.
		\item First we prove union of two disjoint finite sets $A$ and $B$ is finite.

		      Use MI to the card of the second set $B$. For $B=\varnothing$ it's obvious. For $B\approx 1$, assume $A\approx n$, Thrn $B\approx \{n\}$, so $A\cup B\approx n\cup\{n\}=n+1$ is finite. Assume for certain $n,\forall B\approx n$ it's right, now we prove it's right for $n+1$. Assume $f:B\to n+1$ is bijection, then $f^{-1}[n]\approx n$, so $A\cup f^{-1}[n]$ is finite. Since $B=f^{-1}[n]\cup\{f^{-1}(n)\}$ we get $A\cup B=A\cup f^{-1}[n]\cup\{f^{-1}(n)\}$. Since $\{f^{-1}(n)\}\approx 1$, so the union is finite.

		      For general two finite sets $A,B$ we have $A\cup B=A\cup (B\setminus A)$ and from \Cref{it:2.1} we know $B\setminus A$ is finite, so $A\cup B$ is finite. Now we use MI to prove $\phi(n):=\forall x\approx n((\forall y\in x,isFinite(y))\to isFinite(\bigcup x))$ for $n\in \omega$. When $n=0,1,2$ it's obvious. Assume for certain $n\geq 2$ we have $\phi(n)$, then we prove $\phi(n+1)$. Assume $f:x\to n+1$ is bijective, let $y=f^{-1}[n]\subset x$. Then $y\approx n$, by induction we know $\bigcup y$ is finite. Since $x=y\cup \{f^{-1}(n)\}$ we get $\bigcup x=(\bigcup y)\cup f^{-1}(n)$. So $\bigcup x$ is finite, too.
		\item Use MI of the card. For $x\approx 0$ we know $\mi{x}=\{\varnothing\}\approx 1$. Assume for certain $n$ we have $\forall x\approx n,isFinite(\mi{x})$, then for $x\approx n+1$: Assume $f:x\to n+1$ is bijection. Let $y=f^{-1}[n]$ and $t=f^{-1}(n)$. Then $y\approx n$. Let $\theta:\mi{x}\setminus \mi{y}\to \mi{y},\theta(a):=a\setminus \{t\}$. Easily $\theta$ is bijective, so $\mi{x}\setminus\mi{y}\approx \mi{y}$ is finite. From \Cref{it:2.2} we know $\mi{x}=\mi{y}\cup(\mi{x}\setminus\mi{y})$ is finite.
		\item Use MI by card. For $A\approx 0$ it's obvious. Assume for $A\approx n$ it's right, now we prove for $A\approx n+1$ it's right, too. Let $f:A\to n+1$ is a bijection, and $g:A\to\set$ is a map on $A$. Let $B:=f^{-1}[n]\subset A,t=f^{-1}(n)\in A$. Then $B\approx n$, so by induction we know $g[B]$ is finite. Since $A=B\cup\{t\}$ we get $g[A]=g[B]\cup g[\{t\}]=g[B]\cup \{g(t)\}$. Noting $ \{g(t)\}\approx 1$ is finite, from \Cref{it:2.2} we get $g[A]$ is finite, too.
	\end{enumerate}

\end{solution}

\begin{problem}
\begin{enumerate}
	\item A subset of a countable set is at most countable.
	\item The union of a finite set of countable sets is countable.
	\item The image of a countable set (under a mapping) is at most countable.
\end{enumerate}
\end{problem}

\begin{solution}
	\begin{enumerate}
		\item Assume $A$ is countable and $\theta:A\to \omega$ is bijection. For $B\subset A$, we have $B\approx \theta[B]$. So we only need to prove every subset of $\omega$ is at most countable. Let $x\subset \omega$. If $x$ is finite, then there is nothing to do. Now assume $x$ is infinite. We define $f$ on $\omega$ by induction.
		      Let $f(0)=\min x$ and $f(n)=\min (x\setminus f[n])$. Since $x$ is infinite, we know $f[n]\subsetneqq x$, so $f$ is well-defined. And easily to prove $f$ is a bijection. So $x\approx \omega$ is countable.
		\item Use MI to the number of sets to cup, write $n$. When $n=1$ it's obvious. For $n=2$, we should prove two countable sets $u,v$'s union $u\cup v$ is countable. Let $f:\omega\to u,g:\omega\to v$ is bijections, we need to find a bijection $h:\omega\to u\cup v$.
		      We define $h$ by induction. Let $h(n)=f(\min f^{-1}[u\setminus h[n]])$ for $2\mid n$ and let $h(n)=g(\min g^{-1}[v\setminus h[n]])$ for $n\nmid 2$. Since $u,v$ is infinite we obtain $h$ is well-defined.
		      Now we prove $h$ is bijective. First we prove $h$ is injective. For $m,n\in \omega,m\neq n$, assume $m<n$. If $x\mid n$, then $h(n)=f(\min f^{-1}[u\setminus h[n]])\in f[f^{-1}[u\setminus h[n]]]=u\setminus h[n]$ and $h(m)\in h[n]$. So $h(m)\neq h(n)$. If $x\nmid n$ for the same reason we get $h(m)\neq h(n)$.

		      Second we prove $h$ is surjective. Only need to prove $u,v\subset h[\omega]$. By symmetry we only need to peove $u\subset h[\omega]$. Since $u=f[\omega]$, we only need to prove $f[n]\subset h[2n-1],\forall n\in \omega$. Use MI to prove it. For $n=0$ it's obvious. Assume for certain $n$ it's right, for $n+1$, we only need to prove $a:=f(n)\in h[2n+1]$. If not, since $h(2n)=f(\min f^{-1}[u\setminus h[2n]])$ and $a\notin h[2n]$, we have $a\in u\setminus h[2n]$. Then $n=f^{-1}(a)\in f^{-1}[u\setminus h[2n]]$. For $m<n$, by induction we get $f(m)\in h[2m-1]\subset h[2n]$, so $m\notin f^{-1}[u\setminus h[2n]]$, thus $n=\min f^{-1}[u\setminus h[2n]]$. So $h(2n)=a$, contridiction! So $h$ is surjective.

		      Now we assume for certain $n\geq 2$ we have union of $n$ countable sets is countable, we need to prove so do $n+1$ sets. Assume $A\approx n+1$ and $\forall x\in A,x\approx \omega$. Assume $f:A\to n+1$ is bijection, and let $B:=f^{-1}[n],t=f^{-1}(n)$, then $\bigcup A=(\bigcup B) \cup t$. By induction we know $\bigcup B$ is countable. And we have proved union of two countable sets is countable. So finally we get $\bigcup A$ is countable.
		\item Only need to prove image of $\omega$ is at most countable. For $f:\omega\to \set$ is a map, we need to prove $\ran(f)$ is at most countable. Let $h:\ran(f)\to \omega,t\mapsto \min f^{-1}[\{t\}]$. Obviously $h$ is a injective, so $\ran(f)$ is at most countable.
	\end{enumerate}
\end{solution}

\begin{problem}
$\mathbb{N} \times \mathbb{N}$ is countable.
\end{problem}

\begin{solution}
	We will prove $f:\mathbb{N}^2\to \mathbb{N},(m,n)\mapsto 2^m(2n+1)-1$ is bijection. First we prove it's injection. Assume $f(a,b)=f(c,d)$, then $2^a(2b+1)=2^c(2d+1)$. If $a\neq c$, assume $a<c$, then $2b+1=x^{c-a}(2d+1)$. But $2\mid x^{c-a}(2d+1),2\nmid 2b+1$, contridiction! So $a=c$. Then we get $2b+1=2d+1$, so $b=d$. So $f$ is injective.

	Second we prove $f$ is surjective. For $t\in \mathbb{N}$, let $m:=\sup\{k:2^k\mid t+1\}$. Since $0<t+1<\omega$ and $2^k\mid t+1\to 2^k\leq t+1$ we get $m<\omega$. Assume $t+1=2^m\cdot l$, then easily $2\nmid l$. So we can assume $l=2n+1$. Then $t=f(m,n)$.
	All in all, we get $f$ is bijective.
\end{solution}

\begin{problem}
Prove that $\kappa^\kappa \leq 2^{\kappa \times \kappa}$.
\end{problem}

\begin{solution}
	Only need to find a injection $h:\fun{\kappa}{\kappa}\to \fun{\kappa\times \kappa}{2}$. For $f\in \fun{\kappa}{\kappa}$, let $h(f)\in \fun{\kappa\times \kappa}{2}$, and for $u,v\in \kappa$ let $h(f)(u,v):=\begin{cases}
			1 & u= f(v)    \\
			0 & u\neq f(v)
		\end{cases}$. Then we prove $h$ is a injection. Assume $f,g\in \fun{\kappa}{\kappa}$ and $h(f)=h(g)$. Then $\forall v\in \kappa$, we have $h(g)(f(v),v)=h(f)(f(v),v)=1$, so $f(v)=g(v)$. So $h$ is injective.
\end{solution}

\begin{problem}
If $A \preccurlyeq B$, then $A \preccurlyeq^* B$.
\end{problem}

\begin{solution}
	If $A=\varnothing$ then it's obvious. Now assume $A\neq \varnothing$ and $a\in A$. Assume $f:A\to B$ is injection. Let $h:B\to A,h(y):=\begin{cases}
			f^{-1}(y) & y\in \ran(f)    \\
			a         & y\notin \ran(f)
		\end{cases}$
	Then $\forall x\in A,h(f(x))=x$. So $h$ is surjective.
\end{solution}

\begin{problem}
If $A \preccurlyeq^* B$, then $\mathscr{P}(A) \preccurlyeq \mathscr{P}(B)$
\end{problem}

\begin{solution}
	If $A=\varnothing$ then $\mi{A}=1$. Let $f:\mi{A}\to \mi{B},0\mapsto B$, then $f$ is injective. Else we get $A\neq \varnothing$. Then assume $f:B\to A$ is surjective. Let $h:\mi{A}\to\mi{B},U\mapsto f^{-1}[U]$. Then we only need to prove $h$ is injective. Assume $U,V\subset A$ and $h(U)=h(V)$. We get $f^{-1}[U]=f^{-1}[V]$. If $U\neq V$, assume $U\setminus V\neq \varnothing$ and $x\in U\setminus V$, then since $f$ is surjective we get $\exists t\in A,f(t)=x$. So $t\in f^{-1}[U]$ but $t\notin f^{-1}[V]$, contridiction! So $h$ is injective. Then $\mi{A}\peq \mi{B}$.
\end{solution}

\begin{problem}
Let $X$ be a set. If there is an injective function $f: X \rightarrow X$ such that $\operatorname{ran}(f) \subsetneq X$, then $X$ is infinite.
\end{problem}

\begin{solution}
	Use MI to prove $\forall n\in \omega,X\not\approx n$. For $n=0$, if $X\approx n$ then $X=0$. So $X\subset \ran(f)$, contridiction! Assume for certain $n\geq 1$ we get $\forall m<n,X\not\approx m$, then we need to prove $X\not\approx n$. If not, assume $h:X\to n$ is bijection. Consider $h[\ran(f)]\subsetneq n$, we get $\exists m<n,h[\ran(f)]\approx m$. Since $f$ is injective, and $h$ is bijection, we get $X\approx m$. Contridiction to the induction! So we finally proved $\forall n\in \omega,X\not\approx n$.
\end{solution}

\end{document}
